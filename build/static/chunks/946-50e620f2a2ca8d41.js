"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[946],{22946:(e,t,n)=>{n.r(t),n.d(t,{Notice:()=>y,NotificationProvider:()=>h,useNotification:()=>R});var o=n(39014),c=n(59912),r=n(64406),i=n(12115),l=n(85268),a=n(47650),s=n(85407),u=n(1568),f=n(88081),d=n.n(f),v=n(72261),m=n(23672);let y=i.forwardRef(function(e,t){var n=e.prefixCls,o=e.style,r=e.className,l=e.duration,a=void 0===l?4.5:l,f=e.eventKey,v=e.content,y=e.closable,p=e.closeIcon,h=e.props,k=e.onClick,N=e.onNoticeClose,g=e.times,A=e.hovering,E=i.useState(!1),C=(0,c.A)(E,2),x=C[0],b=C[1],R=A||x,S=function(){N(f)};i.useEffect(function(){if(!R&&a>0){var e=setTimeout(function(){S()},1e3*a);return function(){clearTimeout(e)}}},[a,R,g]);var w="".concat(n,"-notice");return i.createElement("div",(0,s.A)({},h,{ref:t,className:d()(w,r,(0,u.A)({},"".concat(w,"-closable"),y)),style:o,onMouseEnter:function(e){var t;b(!0),null==h||null===(t=h.onMouseEnter)||void 0===t||t.call(h,e)},onMouseLeave:function(e){var t;b(!1),null==h||null===(t=h.onMouseLeave)||void 0===t||t.call(h,e)},onClick:k}),i.createElement("div",{className:"".concat(w,"-content")},v),y&&i.createElement("a",{tabIndex:0,className:"".concat(w,"-close"),onKeyDown:function(e){("Enter"===e.key||"Enter"===e.code||e.keyCode===m.A.ENTER)&&S()},onClick:function(e){e.preventDefault(),e.stopPropagation(),S()}},void 0===p?"x":p))});var p=i.createContext({});let h=function(e){var t=e.children,n=e.classNames;return i.createElement(p.Provider,{value:{classNames:n}},t)};var k=n(21855);let N=function(e){var t,n,o,c={offset:8,threshold:3,gap:16};return e&&"object"===(0,k.A)(e)&&(c.offset=null!==(t=e.offset)&&void 0!==t?t:8,c.threshold=null!==(n=e.threshold)&&void 0!==n?n:3,c.gap=null!==(o=e.gap)&&void 0!==o?o:16),[!!e,c]};var g=["className","style","classNames","styles"];let A=function(e){var t,n=e.configList,a=e.placement,f=e.prefixCls,m=e.className,h=e.style,k=e.motion,A=e.onAllNoticeRemoved,E=e.onNoticeClose,C=e.stack,x=(0,i.useContext)(p).classNames,b=(0,i.useRef)({}),R=(0,i.useState)(null),S=(0,c.A)(R,2),w=S[0],M=S[1],L=(0,i.useState)([]),j=(0,c.A)(L,2),I=j[0],W=j[1],H=n.map(function(e){return{config:e,key:String(e.key)}}),O=N(C),P=(0,c.A)(O,2),_=P[0],K=P[1],T=K.offset,D=K.threshold,F=K.gap,X=_&&(I.length>0||H.length<=D),q="function"==typeof k?k(a):k;return(0,i.useEffect)(function(){_&&I.length>1&&W(function(e){return e.filter(function(e){return H.some(function(t){return e===t.key})})})},[I,H,_]),(0,i.useEffect)(function(){var e,t;_&&b.current[null===(e=H[H.length-1])||void 0===e?void 0:e.key]&&M(b.current[null===(t=H[H.length-1])||void 0===t?void 0:t.key])},[H,_]),i.createElement(v.CSSMotionList,(0,s.A)({key:a,className:d()(f,"".concat(f,"-").concat(a),null==x?void 0:x.list,m,(t={},(0,u.A)(t,"".concat(f,"-stack"),!!_),(0,u.A)(t,"".concat(f,"-stack-expanded"),X),t)),style:h,keys:H,motionAppear:!0},q,{onAllRemoved:function(){A(a)}}),function(e,t){var n=e.config,c=e.className,u=e.style,v=e.index,m=n.key,p=n.times,h=String(m),k=n.className,N=n.style,A=n.classNames,C=n.styles,R=(0,r.A)(n,g),S=H.findIndex(function(e){return e.key===h}),M={};if(_){var L=H.length-1-(S>-1?S:v-1),j="top"===a||"bottom"===a?"-50%":"0";if(L>0){M.height=X?null===(O=b.current[h])||void 0===O?void 0:O.offsetHeight:null==w?void 0:w.offsetHeight;for(var O,P,K,D,q=0,z=0;z<L;z++)q+=(null===(D=b.current[H[H.length-1-z].key])||void 0===D?void 0:D.offsetHeight)+F;var B=(X?q:L*T)*(a.startsWith("top")?1:-1),G=!X&&null!=w&&w.offsetWidth&&null!==(P=b.current[h])&&void 0!==P&&P.offsetWidth?((null==w?void 0:w.offsetWidth)-2*T*(L<3?L:3))/(null===(K=b.current[h])||void 0===K?void 0:K.offsetWidth):1;M.transform="translate3d(".concat(j,", ").concat(B,"px, 0) scaleX(").concat(G,")")}else M.transform="translate3d(".concat(j,", 0, 0)")}return i.createElement("div",{ref:t,className:d()("".concat(f,"-notice-wrapper"),c,null==A?void 0:A.wrapper),style:(0,l.A)((0,l.A)((0,l.A)({},u),M),null==C?void 0:C.wrapper),onMouseEnter:function(){return W(function(e){return e.includes(h)?e:[].concat((0,o.A)(e),[h])})},onMouseLeave:function(){return W(function(e){return e.filter(function(e){return e!==h})})}},i.createElement(y,(0,s.A)({},R,{ref:function(e){S>-1?b.current[h]=e:delete b.current[h]},prefixCls:f,classNames:A,styles:C,className:d()(k,null==x?void 0:x.notice),style:N,times:p,key:m,eventKey:m,onNoticeClose:E,hovering:_&&I.length>0})))})};var E=i.forwardRef(function(e,t){var n=e.prefixCls,r=void 0===n?"rc-notification":n,s=e.container,u=e.motion,f=e.maxCount,d=e.className,v=e.style,m=e.onAllRemoved,y=e.stack,p=e.renderNotifications,h=i.useState([]),k=(0,c.A)(h,2),N=k[0],g=k[1],E=function(e){var t,n=N.find(function(t){return t.key===e});null==n||null===(t=n.onClose)||void 0===t||t.call(n),g(function(t){return t.filter(function(t){return t.key!==e})})};i.useImperativeHandle(t,function(){return{open:function(e){g(function(t){var n,c=(0,o.A)(t),r=c.findIndex(function(t){return t.key===e.key}),i=(0,l.A)({},e);return r>=0?(i.times=((null===(n=t[r])||void 0===n?void 0:n.times)||0)+1,c[r]=i):(i.times=0,c.push(i)),f>0&&c.length>f&&(c=c.slice(-f)),c})},close:function(e){E(e)},destroy:function(){g([])}}});var C=i.useState({}),x=(0,c.A)(C,2),b=x[0],R=x[1];i.useEffect(function(){var e={};N.forEach(function(t){var n=t.placement,o=void 0===n?"topRight":n;o&&(e[o]=e[o]||[],e[o].push(t))}),Object.keys(b).forEach(function(t){e[t]=e[t]||[]}),R(e)},[N]);var S=function(e){R(function(t){var n=(0,l.A)({},t);return(n[e]||[]).length||delete n[e],n})},w=i.useRef(!1);if(i.useEffect(function(){Object.keys(b).length>0?w.current=!0:w.current&&(null==m||m(),w.current=!1)},[b]),!s)return null;var M=Object.keys(b);return(0,a.createPortal)(i.createElement(i.Fragment,null,M.map(function(e){var t=b[e],n=i.createElement(A,{key:e,configList:t,placement:e,prefixCls:r,className:null==d?void 0:d(e),style:null==v?void 0:v(e),motion:u,onNoticeClose:E,onAllNoticeRemoved:S,stack:y});return p?p(n,{prefixCls:r,key:e}):n})),s)}),C=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved","stack","renderNotifications"],x=function(){return document.body},b=0;function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.getContainer,n=void 0===t?x:t,l=e.motion,a=e.prefixCls,s=e.maxCount,u=e.className,f=e.style,d=e.onAllRemoved,v=e.stack,m=e.renderNotifications,y=(0,r.A)(e,C),p=i.useState(),h=(0,c.A)(p,2),k=h[0],N=h[1],g=i.useRef(),A=i.createElement(E,{container:k,ref:g,prefixCls:a,motion:l,maxCount:s,className:u,style:f,onAllRemoved:d,stack:v,renderNotifications:m}),R=i.useState([]),S=(0,c.A)(R,2),w=S[0],M=S[1],L=i.useMemo(function(){return{open:function(e){var t=function(){for(var e={},t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return n.forEach(function(t){t&&Object.keys(t).forEach(function(n){var o=t[n];void 0!==o&&(e[n]=o)})}),e}(y,e);(null===t.key||void 0===t.key)&&(t.key="rc-notification-".concat(b),b+=1),M(function(e){return[].concat((0,o.A)(e),[{type:"open",config:t}])})},close:function(e){M(function(t){return[].concat((0,o.A)(t),[{type:"close",key:e}])})},destroy:function(){M(function(e){return[].concat((0,o.A)(e),[{type:"destroy"}])})}}},[]);return i.useEffect(function(){N(n())}),i.useEffect(function(){g.current&&w.length&&(w.forEach(function(e){switch(e.type){case"open":g.current.open(e.config);break;case"close":g.current.close(e.key);break;case"destroy":g.current.destroy()}}),M(function(e){return e.filter(function(e){return!w.includes(e)})}))},[w]),[L,A]}}}]);